(()=>{var o={n:t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return o.d(e,{a:e}),e},d:(t,e)=>{for(var r in e)o.o(e,r)&&!o.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},o:(o,t)=>Object.prototype.hasOwnProperty.call(o,t),r:o=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(o,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(o,"__esModule",{value:!0})}},t={};(()=>{"use strict";o.r(t),o.d(t,{extend:()=>P});const e=flarum.core.compat["common/app"];o.n(e)().initializers.add("bonfire8458/flarum-export-posts",(function(){console.log("[bonfire8458/flarum-export-posts] Hello, forum and admin!")}));const r=flarum.core.compat["forum/app"];var n=o.n(r);const s=flarum.core.compat["common/extend"],a=flarum.core.compat["forum/components/UserPage"];var c=o.n(a);const u=flarum.core.compat["common/components/LinkButton"];var p=o.n(u);const i=flarum.core.compat["common/extenders"];var l=o.n(i);function f(o,t){return f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(o,t){return o.__proto__=t,o},f(o,t)}const d=flarum.core.compat["common/utils/extractText"];var b=o.n(d);const x=flarum.core.compat["common/utils/ItemList"];var y=o.n(x);const v=flarum.core.compat["common/components/FieldSet"];var h=o.n(v);const g=flarum.core.compat["common/components/Button"];var O=o.n(g),k=function(o){var t,e;function r(){for(var t,e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return(t=o.call.apply(o,[this].concat(r))||this).discloseOnlineLoading=void 0,t.user=null,t}e=o,(t=r).prototype=Object.create(e.prototype),t.prototype.constructor=t,f(t,e);var s=r.prototype;return s.oninit=function(t){var e;o.prototype.oninit.call(this,t),m.route.param("username")!==(null==(e=n().session.user)?void 0:e.slug())&&m.route.set("/"),this.show(n().session.user),n().setTitle(b()(n().translator.trans("bonfire8458-export-posts.forum.user.title")))},s.content=function(){return m("div[class=Settings-Export]",[h().component({label:n().translator.trans("bonfire8458-export-posts.forum.user.title")}),m("form",[this.fields().toArray()])])},s.fields=function(){var o=new(y());return o.add("checkboxPost",m("label[class=checkbox]",[m("input[type=checkbox][checked=checked]"),n().translator.trans("bonfire8458-export-posts.forum.user.page.post")]),-1),o.add("checkboxReply",m("label[class=checkbox]",[m("input[type=checkbox]"),n().translator.trans("bonfire8458-export-posts.forum.user.page.reply")]),-2),o.add("ExportPostButton",O().component({class:"Button Button--primary",type:"submit",loading:!1},n().translator.trans("bonfire8458-export-posts.forum.user.page.click")),-100),o},r}(c());const P=[(new(l().Routes)).add("user.export","/u/:username/export",k)];n().initializers.add("bonfire8458/flarum-export-posts",(function(){(0,s.extend)(c().prototype,"navItems",(function(o){n().session.user&&this.user===n().session.user&&o.add("export",p().component({href:n().route("user.export",{username:this.user.slug()}),name:"export",icon:"fas fa-download"},n().translator.trans("bonfire8458-export-posts.forum.user.export")),-101)}))}))})(),module.exports=t})();
//# sourceMappingURL=forum.js.map